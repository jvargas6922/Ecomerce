<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Carrito de Compras - E-commerce</title>
    <!-- Bootstrap 5.3 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">
</head>
<body>
    <!-- Barra de Navegación -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-primary shadow-sm">
        <div class="container-fluid">
            <a class="navbar-brand" href="inicio.html">
                <i class="bi bi-shop"></i> E-commerce
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                    <li class="nav-item">
                        <a class="nav-link active" aria-current="page" href="inicio.html">
                            <i class="bi bi-house-door"></i> Inicio
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="nosotros.html" id="menuNosotros">
                            <i class="bi bi-box-seam"></i> Nosotros
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="catalogo.html" id="menuCatalogo">
                            <i class="bi bi-grid"></i> Catalogo
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="contacto.html" id="menuContacto">
                            <i class="bi bi-envelope"></i> Contacto
                        </a>
                    </li>
                </ul>
                <form class="d-flex me-3" role="search">
                    <input class="form-control me-2" type="search" placeholder="Buscar productos..." aria-label="Search" id="searchInput">
                    <button class="btn btn-light" type="submit" id="btnSearch">
                        <i class="bi bi-search"></i>
                    </button>
                </form>
                <ul class="navbar-nav">
                    <li class="nav-item">
                        <a class="nav-link" href="carrito.html" id="menuCarrito">
                            <i class="bi bi-cart3"></i> Carrito
                            <span class="badge bg-danger" id="cartCount">0</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="index.html" id="menuLogin">
                            <i class="bi bi-person-circle"></i> Iniciar Sesión
                        </a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Breadcrumb -->
    <div class="container mt-3">
        <nav aria-label="breadcrumb">
            <ol class="breadcrumb">
                <li class="breadcrumb-item"><a href="inicio.html" class="text-decoration-none">Inicio</a></li>
                <li class="breadcrumb-item active" aria-current="page">Carrito de Compras</li>
            </ol>
        </nav>
    </div>

    <!-- Contenido Principal -->
    <div class="container my-4">
        <div class="row">
            <div class="col-12">
                <h2 class="mb-4"><i class="bi bi-cart3 text-primary"></i> Mi Carrito de Compras</h2>
            </div>
        </div>

        <div class="row g-4">
            <!-- Productos en el Carrito -->
            <div class="col-lg-8">
                <!-- Contenedor de productos del carrito -->
                <div id="carritoProductos">
                    <!-- Los productos se cargarán dinámicamente aquí -->
                    <!-- Ejemplo de estructura (comentado para JS):
                    <div class="card mb-3 shadow-sm producto-carrito" data-producto-id="1">
                        <div class="card-body">
                            <div class="row align-items-center">
                                <div class="col-md-2 text-center">
                                    <div class="bg-secondary text-white rounded p-3">
                                        <i class="bi bi-laptop fs-3"></i>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <h5 class="card-title mb-1">Laptop Gamer XZ-2000</h5>
                                    <p class="text-muted small mb-0">Intel i7, 16GB RAM, 512GB SSD</p>
                                </div>
                                <div class="col-md-2 text-center">
                                    <p class="text-muted small mb-1">Precio</p>
                                    <h5 class="text-primary mb-0">$1,039.99</h5>
                                </div>
                                <div class="col-md-2">
                                    <label class="form-label small">Cantidad</label>
                                    <div class="input-group input-group-sm">
                                        <button class="btn btn-outline-secondary btnDisminuir">-</button>
                                        <input type="number" class="form-control text-center cantidad-input" value="1" min="1" max="10">
                                        <button class="btn btn-outline-secondary btnAumentar">+</button>
                                    </div>
                                </div>
                                <div class="col-md-2 text-center">
                                    <button class="btn btn-danger btn-sm btnEliminar">
                                        <i class="bi bi-trash"></i> Eliminar
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                    -->
                </div>

                <!-- Mensaje cuando el carrito está vacío -->
                <div class="card shadow-sm text-center py-5" id="carritoVacio">
                    <div class="card-body">
                        <i class="bi bi-cart-x fs-1 text-muted"></i>
                        <h4 class="mt-3">Tu carrito está vacío</h4>
                        <p class="text-muted">Agrega productos a tu carrito para continuar comprando</p>
                        <a href="catalogo.html" class="btn btn-primary mt-3" id="btnIrCatalogo">
                            <i class="bi bi-grid-3x3-gap me-2"></i>Explorar Catálogo
                        </a>
                    </div>
                </div>

                <!-- Botones de acción -->
                <div class="d-flex justify-content-between mt-4 d-none" id="botonesAccion">
                    <a href="catalogo.html" class="btn btn-outline-primary" id="btnSeguirComprando">
                        <i class="bi bi-arrow-left me-2"></i>Seguir Comprando
                    </a>
                    <button class="btn btn-outline-danger" id="btnVaciarCarrito">
                        <i class="bi bi-trash me-2"></i>Vaciar Carrito
                    </button>
                </div>
            </div>

            <!-- Resumen del Pedido -->
            <div class="col-lg-4">
                <div class="card shadow-sm sticky-top" style="top: 20px;">
                    <div class="card-header bg-primary text-white">
                        <h5 class="mb-0"><i class="bi bi-receipt"></i> Resumen del Pedido</h5>
                    </div>
                    <div class="card-body">
                        <!-- Subtotal -->
                        <div class="d-flex justify-content-between mb-3">
                            <span>Subtotal (<span id="totalItems">0</span> productos)</span>
                            <strong id="subtotal">$0.00</strong>
                        </div>

                        <!-- Descuento -->
                        <div class="d-flex justify-content-between mb-3 text-success">
                            <span>Descuento</span>
                            <strong id="descuento">-$0.00</strong>
                        </div>

                        <!-- Envío -->
                        <div class="d-flex justify-content-between mb-3">
                            <span>Envío</span>
                            <span id="envio">$0.00</span>
                        </div>

                        <div class="alert alert-info small mb-3" role="alert">
                            <i class="bi bi-info-circle me-1"></i>
                            <span id="mensajeEnvio">Envío gratis en compras mayores a $500</span>
                        </div>

                        <hr>

                        <!-- Total -->
                        <div class="d-flex justify-content-between mb-4">
                            <h5 class="mb-0">Total</h5>
                            <h4 class="text-primary mb-0" id="total">$0.00</h4>
                        </div>

                        <!-- Botón de checkout -->
                        <div class="d-grid gap-2 mb-3">
                            <button class="btn btn-primary btn-lg" id="btnProcederPago" disabled>
                                <i class="bi bi-credit-card me-2"></i>Proceder al Pago
                            </button>
                        </div>

                        <!-- Cupón de descuento -->
                        <div class="mb-3">
                            <label for="cuponDescuento" class="form-label small">¿Tienes un cupón?</label>
                            <div class="input-group input-group-sm">
                                <input type="text" class="form-control" id="cuponDescuento" placeholder="Código de cupón">
                                <button class="btn btn-outline-secondary" type="button" id="btnAplicarCupon">
                                    Aplicar
                                </button>
                            </div>
                            <div class="invalid-feedback" id="cuponError">
                                Cupón no válido
                            </div>
                            <div class="valid-feedback" id="cuponExito">
                                ¡Cupón aplicado!
                            </div>
                        </div>

                        <hr>

                        <!-- Métodos de pago aceptados -->
                        <div class="text-center">
                            <p class="small text-muted mb-2">Métodos de pago aceptados</p>
                            <div class="d-flex justify-content-center gap-2">
                                <i class="bi bi-credit-card fs-4 text-muted"></i>
                                <i class="bi bi-paypal fs-4 text-muted"></i>
                                <i class="bi bi-wallet2 fs-4 text-muted"></i>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Garantías -->
                <div class="card shadow-sm mt-3">
                    <div class="card-body">
                        <h6 class="card-title mb-3"><i class="bi bi-shield-check text-success"></i> Compra Protegida</h6>
                        <ul class="list-unstyled small mb-0">
                            <li class="mb-2">
                                <i class="bi bi-check-circle text-success me-2"></i>
                                Compra 100% segura
                            </li>
                            <li class="mb-2">
                                <i class="bi bi-check-circle text-success me-2"></i>
                                Devolución gratuita (30 días)
                            </li>
                            <li class="mb-2">
                                <i class="bi bi-check-circle text-success me-2"></i>
                                Garantía del fabricante
                            </li>
                            <li class="mb-0">
                                <i class="bi bi-check-circle text-success me-2"></i>
                                Soporte técnico incluido
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <!-- Productos Recomendados -->
        <div class="row mt-5">
            <div class="col-12">
                <h4 class="mb-4"><i class="bi bi-star text-warning"></i> También te podría interesar</h4>
            </div>
        </div>

        <div class="row g-4" id="productosRecomendados">
            <!-- Los productos recomendados se cargarán dinámicamente aquí -->
            <!-- Ejemplo de estructura (comentado):
            <div class="col-lg-3 col-md-6">
                <div class="card h-100 shadow-sm">
                    <div class="bg-secondary text-white text-center" style="height: 150px; display: flex; align-items: center; justify-content: center;">
                        <i class="bi bi-headphones fs-1"></i>
                    </div>
                    <div class="card-body">
                        <h6 class="card-title">Audífonos Inalámbricos</h6>
                        <p class="card-text text-muted small">Cancelación de ruido</p>
                        <div class="d-flex justify-content-between align-items-center">
                            <h5 class="text-primary mb-0">$199.99</h5>
                            <button class="btn btn-sm btn-primary btnAgregarCarrito">
                                <i class="bi bi-cart-plus"></i>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
            -->
        </div>

        <!-- Pasos del proceso de compra -->
        <div class="row mt-5">
            <div class="col-12">
                <div class="card shadow-sm">
                    <div class="card-body">
                        <h5 class="card-title mb-4 text-center">Proceso de Compra</h5>
                        <div class="row text-center">
                            <div class="col-md-3 mb-3">
                                <div class="bg-primary bg-opacity-10 rounded-circle d-inline-flex p-3 mb-2">
                                    <i class="bi bi-cart-check text-primary fs-3"></i>
                                </div>
                                <h6>1. Carrito</h6>
                                <p class="text-muted small mb-0">Revisa tus productos</p>
                            </div>
                            <div class="col-md-3 mb-3">
                                <div class="bg-secondary bg-opacity-10 rounded-circle d-inline-flex p-3 mb-2">
                                    <i class="bi bi-person-circle text-secondary fs-3"></i>
                                </div>
                                <h6>2. Datos</h6>
                                <p class="text-muted small mb-0">Información de envío</p>
                            </div>
                            <div class="col-md-3 mb-3">
                                <div class="bg-secondary bg-opacity-10 rounded-circle d-inline-flex p-3 mb-2">
                                    <i class="bi bi-credit-card text-secondary fs-3"></i>
                                </div>
                                <h6>3. Pago</h6>
                                <p class="text-muted small mb-0">Método de pago</p>
                            </div>
                            <div class="col-md-3 mb-3">
                                <div class="bg-secondary bg-opacity-10 rounded-circle d-inline-flex p-3 mb-2">
                                    <i class="bi bi-check-circle text-secondary fs-3"></i>
                                </div>
                                <h6>4. Confirmación</h6>
                                <p class="text-muted small mb-0">Pedido completado</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal de Confirmación para Vaciar Carrito -->
    <div class="modal fade" id="modalVaciarCarrito" tabindex="-1" aria-labelledby="modalVaciarCarritoLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="modalVaciarCarritoLabel">
                        <i class="bi bi-exclamation-triangle text-warning"></i> Confirmar Acción
                    </h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    ¿Estás seguro de que deseas vaciar tu carrito? Esta acción no se puede deshacer.
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal" id="btnCancelarVaciar">Cancelar</button>
                    <button type="button" class="btn btn-danger" id="btnConfirmarVaciar">
                        <i class="bi bi-trash me-2"></i>Sí, Vaciar Carrito
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="bg-dark text-white mt-5 py-4">
        <div class="container">
            <div class="row">
                <div class="col-md-4 mb-3">
                    <h5><i class="bi bi-shop"></i> E-commerce</h5>
                    <p class="small">Tu tienda de confianza para encontrar los mejores productos al mejor precio.</p>
                </div>
                <div class="col-md-4 mb-3">
                    <h5>Enlaces Rápidos</h5>
                    <ul class="list-unstyled">
                        <li><a href="nosotros.html" class="text-white text-decoration-none small">Sobre Nosotros</a></li>
                        <li><a href="#" class="text-white text-decoration-none small">Términos y Condiciones</a></li>
                        <li><a href="#" class="text-white text-decoration-none small">Política de Privacidad</a></li>
                        <li><a href="#" class="text-white text-decoration-none small">Preguntas Frecuentes</a></li>
                    </ul>
                </div>
                <div class="col-md-4 mb-3">
                    <h5>Síguenos</h5>
                    <div>
                        <a href="#" class="text-white me-3"><i class="bi bi-facebook fs-4"></i></a>
                        <a href="#" class="text-white me-3"><i class="bi bi-twitter fs-4"></i></a>
                        <a href="#" class="text-white me-3"><i class="bi bi-instagram fs-4"></i></a>
                        <a href="#" class="text-white"><i class="bi bi-youtube fs-4"></i></a>
                    </div>
                </div>
            </div>
            <hr class="bg-white">
            <div class="text-center small">
                <p class="mb-0">&copy; 2025 E-commerce. Todos los derechos reservados.</p>
            </div>
        </div>
    </footer>

    <!-- Bootstrap 5.3 JS Bundle -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
    
    <!-- Jquery -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    
    <!-- Archivo JS para manejar la lógica del carrito -->
    <script src="assets/js/carrito.js"></script>
</body>
</html>